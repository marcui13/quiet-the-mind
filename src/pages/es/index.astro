---
import MainLayout from "../../layouts/MainLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import Hero from "../../components/Hero.astro";
import Section from "../../components/Section.astro";
import Card from "../../components/Card.astro";
import Button from "../../components/Button.astro";
import { getLangFromUrl, useTranslations } from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<MainLayout title={t("site.title")}>
  <Header slot="header" />

  <!-- Hero Section -->
  <Hero
    title={t("home.hero.title")}
    subtitle={t("home.hero.subtitle")}
    ctaText={t("home.hero.cta")}
    ctaLink="#introduction"
  />

  <!-- Introduction Section -->
  <Section
    id="introduction"
    title={t("home.introduction.title")}
    subtitle={t("home.introduction.subtitle")}
    centerContent={true}
  >
    <div class="max-w-4xl mx-auto">
      <div class="grid md:grid-cols-3 gap-6">
        <Card
          title={t("home.introduction.card1.title")}
          icon="🌪️"
          description={t("home.introduction.card1.description")}
        />
        <Card
          title={t("home.introduction.card2.title")}
          icon="🌱"
          description={t("home.introduction.card2.description")}
        />
        <Card
          title={t("home.introduction.card3.title")}
          icon="✨"
          description={t("home.introduction.card3.description")}
        />
      </div>
    </div>
  </Section>

  <!-- Objective Section -->
  <Section
    title={t("home.objective.title")}
    bgColor="bg-blue-50 dark:bg-gray-800"
    centerContent={true}
  >
    <div class="max-w-4xl mx-auto text-center space-y-8">
      <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
        {t("home.objective.description")}
      </p>

      <div class="grid md:grid-cols-3 gap-6">
        <Card
          title={t("home.objective.card1.title")}
          icon="📚"
          variant="highlighted"
          description={t("home.objective.card1.description")}
        />
        <Card
          title={t("home.objective.card2.title")}
          icon="🛠️"
          variant="highlighted"
          description={t("home.objective.card2.description")}
        />
        <Card
          title={t("home.objective.card3.title")}
          icon="💡"
          variant="highlighted"
          description={t("home.objective.card3.description")}
        />
      </div>

      <div class="pt-8 flex flex-col sm:flex-row justify-center gap-4">
        <Button href="/es/topics" variant="primary" size="lg">
          Explorar Todos los Tópicos
        </Button>
        <Button href="/es/types" variant="secondary" size="lg">
          {t("home.objective.cta")}
        </Button>
      </div>
    </div>
  </Section>

  <!-- Remember Section -->
  <Section
    title={t("home.remember.title")}
    bgColor="bg-gradient-to-br from-blue-50/50 to-purple-50/50 dark:from-blue-900/10 dark:to-purple-900/10"
    centerContent={true}
  >
    <div class="max-w-3xl mx-auto">
      <Card
        title={t("home.remember.card.title")}
        icon="🤝"
        variant="minimal"
        class="text-center"
      >
        <p class="text-gray-600 dark:text-gray-300 mb-6">
          {t("home.remember.card.description")}
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
          <Button href="/es/strategies" variant="secondary">
            {t("home.remember.cta1")}
          </Button>
          <Button href="/es/resources" variant="outline">
            {t("home.remember.cta2")}
          </Button>
        </div>
      </Card>
    </div>
  </Section>

  <Footer slot="footer" />
</MainLayout>